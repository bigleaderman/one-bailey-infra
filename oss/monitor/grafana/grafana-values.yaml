replicaCount: 1

revisionHistoryLimit: 2 

nodeSelector:
  node-role.kubernetes.io/infra-node: "true"

tolerations:
  - key: "node-role.kubernetes.io/infra-node"
    operator: "Exists"
    effect: "NoSchedule"

persistence:
  enabled: true
  storageClassName: standard
  accessModes:
    - ReadWriteOnce
  size: 10Gi

service:
  type: ClusterIP
  port: 80

ingress:
  enabled: false  # ⚠️ Ingress 별도 관리

env:
  GF_SERVER_ROOT_URL: https://onebailey.shop/grafana
  GF_SERVER_SERVE_FROM_SUB_PATH: "false"

grafana.ini:
  server:
    domain: onebailey.shop
    root_url: "%(protocol)s://%(domain)s/grafana"
    serve_from_sub_path: false

datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
      - name: Prometheus
        type: prometheus
        access: proxy
        url: http://prometheus-kube-prometheus-prometheus.infra.svc.cluster.local:80/prometheus 
        isDefault: true
        version: 1
        editable: true

